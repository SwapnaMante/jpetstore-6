pipeline {

agent any

environment {
   
    ArtifactID = readMavenPom().getArtifactId()
    VERSION = readMavenPom().getVersion()
    }
	tools { 
        maven 'Maven 3.8.5' 
         
    }
stages {
        
  stage('PrintVariables') {
            steps {
				echo "${ArtifactID}"
                echo "${VERSION}"
            }

        }	
stage('Build') {
            steps {
			    echo "M2_HOME = ${M2_HOME}"
                sh 'mvn -B -DskipTests clean package'
            }
        }
		
}
}